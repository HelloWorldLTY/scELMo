# remember to set the OpenAI token in ahead.
from openai import OpenAI
client = OpenAI()

response = client.chat.completions.create(
  model="gpt-4",
  messages=[
    {"role": "user", "content": "This cell has genes ranked by their expression as: CCDC71L NTS F8 GHSR GRIN2D VNN3 DTX1 SPOCK2 TRPC5 AQP9 GGT1 DUSP23 COL16A1 CCDC3 CH25H PTX3 CADM3 NTRK2 AGR3 LDB2 LRRTM1 FOSL1 PIK3AP1 CHST8 TGFBR2 MBOAT4 BCL2 MYRF GPC1 PPARGC1A SLIT3 DOCK2 SYT1 MFSD2A POLR3B LURAP1L UGT2B7 LYN GALNT2 RASD2 ALDH1A2 F10 C18orf54 CGA HEG1 COL14A1 SLC43A2 NRARP NPNT BMF GCGR SPSB1 RAB34 PRKAR2B TET3 DIAPH3 RAMP2 GLI2 CCNA2 ABCB1 PCDH9 TMEM233 PPP2R2B SOCS2 COX6A2 GALNT7 AMOTL1 CREB3L1 ADAM8 SYBU PRCP RNF186 ITIH4 CACHD1 FAM155A EGF RCC1 MNX1 GGH NTM ZNF180 SLC16A7 NUF2 F2 HOXD8 LTF PTGFR FAM83D SLC2A2 TRIM47 LMO3 TGIF1 HPGD ATP6V0D2 AFAP1L2 FA2H C3orf80 NCF4 SH2D2A HDC RARB FBLN5 HECTD3 GRAP2 PID1 C3AR1 LGR5 MUCL1 FHL3 CASP1 GRIN2A TAX1BP3 CSPG4 ZNF804A PKNOX2 DPEP1 RAMP3 LPAR5 IQGAP2 CMTM3 MET SLCO4A1 ANXA13 IKZF3 CYTH3 FUT3 CABLES1 HNF4G CHRDL1 PROSER2 TUBB1 PTPRT RASIP1 STMN4 GABRA3 SH3KBP1 MERTK CD4 SLC6A8 MOXD1 ASTN1 UGT2A3 HSPBAP1 GATA3 MTMR1 NDRG4 SORD PPIC TRPV2 CPXM1 CPZ CCNF TRPM5 FLNC DUSP22 DDIT4L ID4 GAPT ARHGAP18 SERPINB4 WAS SLC16A14 CD79A ZEB1 PDE2A SLAMF8 LCP2 AKAP5 KIF2C CDR2L PDE10A SPTSSB SYNM CNIH2 ALAS2 C11orf53 MDFI GDNF ARHGEF2 GAS6 FERMT3 PLLP FZD10 PTPN7 ADD2 ADAM9 SIRPA HKDC1 TMSB15A ZMAT4 MECOM SH3PXD2B DTX4 PPARGC1B SLC16A10 THSD4 LPL FCGR3B CLEC2B TSPO SLC9A9 CPNE4 TMEM217 PLEK PON1 ST6GAL1 SOX11 P4HA3 SLC9A3R2 DUOXA1 CDA NNAT CLIC6 ADORA2A LRRN3 CPNE5 RFTN2 STK17A B3GNT3 FAM20C GRK5 DSC2 BIN2 EGLN3 GIMAP8 CHRM3 LRRK2 EFHC2 HES4 CIT TDO2 F5 TIMP4 TH PLP1 CACNA2D4 SLC1A3 PSCA SYNDIG1 GAB2 ORM1 NEURL1B SERPINI1 CPXM2 IL17RB SHMT2 PTHLH ALDH2 TWIST2 CYSLTR2 PIM2 IGSF10 APOBR KIAA1522 ZNF367 SYDE1 ASB12 ACCS DOCK9 DCHS1 MS4A4A DKK1 ACSL1 PGM1 RRN3 HHEX LPAR1 CD86 NID2 SLC39A5 SMAD3 RASL12 CLPSL1 BDKRB1 ZP1 SATB2 GSTM5 GIMAP4 EFEMP1 TNFSF15 ARL14 MYC CD48 C1QTNF1 ZNF831 SH3BP4 HSD11B2 LTC4S PLCH2 ID2 STIM1 LILRB5 SOX7 CAPN5 NPR3 KDELR3 IL1R2 S100A8 VSNL1 TROAP PCDH8 BAALC TUBB2A CCND2 CD1D OSR2 GRP PLEKHO1 CDHR5 PCOLCE PTPRZ1 BAAT POU2F2 CITED4 ZNF503 MTUS1 SLC7A5 ISM2 HABP2 GMDS CRABP2 DGAT2 NR2F1 KISS1R NCF2 MMP10 GPR62 NPTX1 ZSCAN5A SLC2A1 LST1 CLHC1 GIMAP7 LRRC25 BPIFC DPH2 TMEM47 SUCNR1 TMEM26 KCNG1 BFSP1 CKAP2L ZG16B CLMP PPP1R15A RBP2 ALOX5 BICC1 CENPE BNC2 JAKMIP3 IL13RA2 CCDC102B AURKB WNT6 CHRNA2 NCEH1 C1QL1 PPP1R16B GATA4 CDH17 LMCD1 STC2 VTN MOB3B EPHA2 GPSM1 EPHA3 PDLIM7 HOXA5 PMAIP1 TSPAN15 DSE CISH NTN4 IGFBP6 FANK1 CLEC10A ZYX SLC22A16 ZNF165 TMEFF2 MYOF CDK1 INHA KCNJ15 TCF21 POU3F1 HOXA3 MCM5 SERPINA4 AQP8 SLIT2 GALNT9 FUT10 FRMD6 BUB1 AMIGO2 KCNH8 BTK E2F1 HS3ST1 TRPM2 KCNK5 MYZAP ANTXR1 TSPAN11 ANTXR2 PPM1E CENPM FAM177B TCIRG1 LEF1 ADAMTS7 HPCAL4 PRC1 GREM2 ADAMTS14 FOSL2 DHCR24 VGLL1 SASH3 NPPB FLT3 PLA2G4A HAND2 PLXND1 FXYD6 IRX1 ACTC1 SLC17A6 ADRB2 BARX2 KCNH2 CYP2C9 ANLN MYOM1 SDC3 CHODL BCL3 CRISP3 CAPN13 PDLIM4 CLEC1A PCDH7 LGR4 DLC1 CDCA8 HFM1 NELL2 KIAA1755 FXYD3 NR0B1 CD7 FCGR3A NR1H4 TCF19 SLFN11 PPP1R18 CSF2RB TBX18 PRKG1 SLC38A5 ITGB3 CD8B BUB1B GPR34 IGSF3 TLE4 TUBB6 COLEC11 LY6H CDCA3 EYA4 TMTC4 TRPV6 LAMB2 SNTB1 ZNF385B LILRB4 SLITRK6 RHOJ ATP7B C1orf162 TM4SF5 HLX MCTP1 TNF CALB2 ENPEP SPRY1 NR0B2 ITGA6 CYP2C8 KLF4 RAB27B WDR25 POC1A PDE1A TNFSF10 UBASH3B TACC3 RDH12 PRR16 IER5 RORB PLK4 ATP8B1 ULBP2 EVI2B RAMP1 BLM ASF1B CDCA7 GJB3 SLC6A6 MND1 RAD51 C3orf52 GNGT2 CALCA FNDC4 SHISA2 OXGR1 MAG FOXS1 CD52 SLC12A7 DAB2IP FOXF2 PLAC9 TMEM100 TSC22D3 ACHE ACE2 ZCCHC12 CDKN3 LONRF3 TMPPE LIMS2 FAM124A VWC2L LILRB2 CCR5 CCKBR PEX12 BRD9 ZNF613 CD300LB PGM2 BLNK ARSJ DNMBP CD72 EXO5 SYTL5 ZBTB25 TRIM63 S1PR5 PDP1 SERPINB8 PLD6 EBI3 ZNF502 GIPC2 LRRN4 ZNF77 SEMA4F FJX1 RGS13 SLC18A3 DOK2 ZKSCAN2 CCL7 ZNF792 CA10 CDK8 GK HTR3A ZNF441 NKD1 TGFBR1 SLC2A14 CXCL11 CMYA5 S100A1 GFRA1 ZNF630 SCN2A OASL ZNF235 TFAP2A DOK5 RAPGEF5 IL18R1 RASA3 COCH ITM2A ASB4 TMEM255B PAX4 SH3GL3 GUCA2A HMCN1 LRIF1 OAS1 CNTNAP2 ZC4H2 ZNF133 MYO7A ZNF117 SNPH TNK1 HHAT PTPRG RAB33A ERBB4 PRMT7 INSM1 BARHL1 ACSL5 PALMD IL5RA ARNTL ZNF30 ZNF267 EVA1B RAD51D FAM107B MCM2 FGF7 SLITRK1 KRT6A CYP2C18 LUZP2 FGF18 RTTN ZNF765 UGT2B4 PARP16 RGS7BP CST1 DIO2 OPCML IL4I1 PEAR1 MFNG HGF DTL ZNF473 ROR2 FGF14 MB21D2 TTC21A SLC29A3 BMP8A CYP2E1 PCDHB15 PSG3 EFR3B FMO4 IGDCC4 CPNE7 HSPB6 GAS1 CLEC4A FBXO16 COL22A1 DMRTA1 LMO4 FMNL2 KPNA7 APLN RCN3 LAMA3 FBXO25 MPP3 PARS2 NPW FAM167B CSMD1 ANO7 PDGFC MKNK2 TDP1 SOX17 HSPA1L CLSTN2 SNX16 ASB2 SEMA6A HR SPRR3 FOXD3 GSTM4 CD5 DISP2 DPYD MSR1 MPP1 CGN CCDC34 SESN2 ADH1A ZNF132 ZNF558 APBB1IP MYRIP TMEM88 VEPH1 MRGPRF SLC1A1 CARD16 PTGIS NUP62CL CHST3 CLEC11A CCR7 SPINT1 NHLH2 CHRNA1 LRFN5 ARL2BP PYROXD2 ARRDC2 CAMTA2 ZNF611 FAM3B ALDH1B1 CD38 TNFRSF10D RCL1 TBL3 KIF20A SLC36A1 ESRP2 IL18 CHI3L2 NEK6 CMKLR1 PILRA LMO7 SPDL1 DLGAP5 GFI1 USF1 VILL CD163L1 ABCG2 ZSCAN31 ANKRD30B IL23A AP1M1 TYMS APLF TRO HSPA12A C16orf54 C8orf48 CORIN FOXC2 CHL1 GMNC GPX8 C16orf71 SPAG17 GLDC BMX IGSF11 CAPN3 ADORA1 LRRC20 AMMECR1L CARNS1 DENND6B MSLN CYP4F12 GPSM3 BYSL FAH HHIPL1 KLHL1 ANKRD34C CHRDL2 MID1IP1 HPX SLAMF9 DGKG RAPGEF4 IL22RA1 VEGFC GPC6 CDC20 LDLRAD4 SPRR1A SERPIND1 NCAPH PCDHB4 SNX33 OTUD1 . What is the cell type of this cell?"}
  ]
)

print(response)

###example output:
'''
The list you've provided appears to be a transcriptomic profile, which includes a variety of genes expressed in a cell. Identifying the cell type from a list of genes would typically require comparing the expression profile to known profiles from various cell types, often using bioinformatics tools or databases such as the Human Cell Atlas or single-cell RNA sequencing (scRNA-seq) databases that classify cell types based on their gene expression patterns.

Without such tools or databases at my disposal, I cannot definitively identify the cell type just from a list of genes. Determining the cell type would involve analyzing which genes are expressed, their levels of expression, and how those levels compare to the expression profiles of known cell types. This process usually involves complex data analysis using specialized software.

In a laboratory or research setting, scientists would use bioinformatics analysis to map the gene expression profile against a database of cell types to find the closest match. If you have access to such databases or tools, that would be the recommended course of action to identify the cell type associated with this gene expression profile.
'''